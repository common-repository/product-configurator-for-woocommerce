!function(n){"use strict";n(function(){n("img[data-generate_image]").each(function(a,t){var e=n(t).data("generate_image"),r=n(t).data("product_id");n(t).removeAttr("data-generate_image").addClass("generating-image"),n.ajax({url:mkl_pc_general.ajaxurl,type:"POST",dataType:"json",data:{action:"mkl_pc_generate_config_image",data:e,product_id:r},context:this}).done(function(a){var e;a.data.url?a.data.format&&"html"==a.data.format?(n(a.data.url).insertBefore(n(t)),n(t).remove()):(e=new Image,n(e).on("load",function(){t.src=a.data.url,n(t).removeClass("generating-image")}),e.src=a.data.url):n(t).removeClass("generating-image")})})})}(jQuery);