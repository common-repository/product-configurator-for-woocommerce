!function(i,e){var n=window.MKL_Configurator=window.MKL_Configurator||{};n.Vue={},n.Vue.Model=Backbone.Model.extend({default:{name:"",elms:null},initialize:function(){this.name=this.attributes.name,this.elms=new n.Vue.Elements(this.attributes.elements)},getElms:function(){return this.elms},toJSON:function(){return e.clone(this.attributes)}}),n.Vues=Backbone.Collection.extend({model:n.Vue.Model,export:function(){var t=[];return this.each(function(e,i){e.getElms();t[i]=n.toJSON(e)}),t}}),n.Vue.Element={},n.Vue.Element.Model=Backbone.Model.extend({default:{choices:null},initialize:function(e){return this.choices=new n.Vue.Element.Choices(e.choices),this},toJSON:function(){return e.clone(this.attributes)}}),n.Vue.Elements=Backbone.Collection.extend({model:n.Vue.Element.Model}),n.Vue.Element.Choice=Backbone.Model.extend({default:{img:"",thumbnail:""}}),n.Vue.Element.Choices=Backbone.Collection.extend({model:n.Vue.Element.Choice}),n.Views={},n.Views.Vues=Backbone.View.extend({initialize:function(){return this.collection.each(this.addVue,this),this},addVue:function(e,i){e=new n.Views.Vue({model:e});this.$el.append(e.render().el)}}),n.Views.Vue=Backbone.View.extend({tagName:"div",className:"vue-container",initialize:function(){},render:function(){var e=new n.Views.Elements({collection:this.model.elms});return this.$el.append(this.model.get("name")),this.$el.append(e.render().$el),this}}),n.Views.Elements=Backbone.View.extend({tagName:"ul",className:"elements-list",initialize:function(){return this.collection.each(this.addElement,this),this},addElement:function(e,i){e=new n.Views.Element({model:e});this.$el.append(e.render().$el)},render:function(){return this}}),n.Views.Element=Backbone.View.extend({tagName:"li",className:"element",initialize:function(){},events:{"click a":"showChoices"},render:function(){return this.$el.append('<a href="#">'+this.model.get("name")+"</a>"),this},showChoices:function(e){e.preventDefault(),i("."+this.className).removeClass("active"),this.$el.addClass("active"),this.choices=new n.Views.Choices({collection:this.model.choices}),this.choices.render()}}),n.Views.Choices=Backbone.View.extend({tagName:"ul",className:"choices-list",initialize:function(){return this.collection.each(this.addElement,this),this},addElement:function(e,i){e=new n.Views.Choice({model:e});this.$el.append(e.render().$el)},render:function(){i(".choice-imgs").html(""),i(".my-choices").html(this.$el)}}),n.Views.Choice=Backbone.View.extend({tagName:"li",className:"choice",initialize:function(){},events:{"click a":"showChoicesImgs"},render:function(){return this.$el.append('<a href="#">'+this.model.get("name")+"</a>"),this},showChoicesImgs:function(e){e.preventDefault(),i(".my-choices .choices-list > li").removeClass("active"),i(".choice-imgs").html(new n.Views.ChoiceImages({model:this.model}).render()),this.$el.addClass("active")},removeActive:function(e,i){}}),n.Views.ChoiceImages=Backbone.View.extend({tagName:"p",className:"edit-images",initialize:function(){},events:{"click a.img-edit":"editImg","click a.thumbnail-edit":"editThumbnail"},editImg:function(e){e.preventDefault()},editThumbnail:function(e){e.preventDefault()},render:function(){var e='<a href="#" class="img-edit">'+this.model.get("img")+"</a>";return e+='<a href="#" class="thumbnail-edit">'+this.model.get("thumbnail")+"</a>",this.$el.html(e)}}),i(document).ready(function(){var e=JSON.parse(i("#_value").val());e&&(e=new n.Vues(e),new n.Views.Vues({collection:e,el:i(".myviews")}),i("#export-data").click(function(e){e.preventDefault()}))})}(jQuery,PC._us||window._);